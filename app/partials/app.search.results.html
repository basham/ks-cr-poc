<a ui-sref="app.search.query">New Search</a>
<a
  class="kscr-Nav-item" href
  ng-class="{ 'kscr-Nav-item--active': showSearch }"
  ng-click="showSearch = !showSearch">Modify Search</a>

<p>
  <div>
    {{searchCriteria.term.label}}
    <strong>{{searchCriteria.query}}</strong>
  </div>
  <div>
    <a ui-sref="app.search.query">Change search criteria</a>
  </div>
</p>



<form ng-if="showSearch" class="kscr-Search">

  <label for="searchTerm" class="kscr-Search-label">Term</label>
  <select id="searchTerm" ng-model="selectedSearchTerm" ng-options="t.id as t.label for t in searchTerms"></select>

  <label for="searchCourses" class="kscr-Search-label">Courses</label>
  <div class="kscr-Search-query">
    <input id="searchCourses" type="text" class="kscr-Search-queryInput" placeholder="ENGL, ENGL2, ENGL200"/>
    <span class="kscr-Search-queryButton">
      <button ui-sref="app.results.list">Go</button>
    </span>
  </div>

</form>

<div class="row">

  <section
    class="medium-5 column"
    ng-class="{ 'hide-for-small-only': $state.is('app.search.results.details') }">
    <h1 class="util-Visibility--screenReadersOnly">Search Results</h1>

    <p ng-pluralize
      count="itemCount"
      when="{'0': 'No results', '1': '1 course', 'other': '{} courses'}"></p>

    <ol class="kscr-COList">
      <li ng-repeat="co in results">
        <section
          class="kscr-COItem"
          ui-sref="app.search.results.details({ index: co.index, code: co.courseOfferingCode })"
          ui-sref-active="kscr-COItem--active">
          <header class="kscr-COItem-header">
            <h1 class="kscr-COItem-code">
              <a
                ui-sref="app.search.results.details({ index: co.index, code: co.courseOfferingCode })"
                ng-click="$event.stopPropagation()">{{co.courseOfferingCode}}</a>
            </h1>
            <div class="kscr-COItem-title">{{co.title}}</div>
            <span class="kscr-COItem-credits" ng-bind-html="co | credits"></span>
          </header>
          <div class="kscr-COItem-body">
            <span class="kscr-COItem-time" ng-bind-html="co.scheduleItems | meetingTimes"></span>
            <span class="kscr-COItem-enrollment">{{co.enrollmentCount}}/{{co.maxEnrollmentCount}}</span>
          </div>
          <div class="kscr-COItem-body">
            <span class="kscr-COItem-type">{{co.type}}</span>
            <span class="kscr-COItem-instructor">{{co.instructorNames | instructors}}</span>
          </div>
        </section>
      </li>
    </ol>
  </section>

  <div
    class="medium-7 column"
    ng-class="{ 'hide-for-small-only': $state.is('app.search.results.list') }">
    <div ui-view></div>
  </div>

</div>